<!DOCTYPE html>

<html>
<head>
  <title>Pitch</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="public/stylesheets/normalize.css" />
  <link rel="stylesheet" media="all" href="..\..\..\..\..\..\docco.css" />
</head>
<body>
<a href="https://github.com/SpencerPark/MellowD"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/652c5b9acfaddf3a9c326fa6bde407b87f7be0f4/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6f72616e67655f6666373630302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"></a>
  <div class="container">
    <div class="page">

      <div class="header">
        
          <div class="toctop" onclick="">
            <a class="source" href="..\..\..\..\..\..\index.html">Home</a>
            <h3>Table of Contents</h3>
              
                    
                    <div class="toc" onclick="">
                        <h3>src\main\antlr</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\antlr\MellowDLexer.html">
                                    MellowDLexer.g4
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\antlr\MellowDParser.html">
                                    MellowDParser.g4
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\main\java\cas\cs4tb3\mellowd</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="ArticulatedSound.html">
                                    ArticulatedSound.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="Articulation.html">
                                    Articulation.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="Beat.html">
                                    Beat.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="Dynamic.html">
                                    Dynamic.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="Pitch.html">
                                    Pitch.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="PlayableSound.html">
                                    PlayableSound.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="TimingEnvironment.html">
                                    TimingEnvironment.java
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\main\java\cas\cs4tb3\mellowd\compiler</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="compiler\Compiler.html">
                                    Compiler.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="compiler\MIDIIODelegate.html">
                                    MIDIIODelegate.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="compiler\SequenceIODelegate.html">
                                    SequenceIODelegate.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="compiler\SequencePlayer.html">
                                    SequencePlayer.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="compiler\TimeStampedMIDIMessage.html">
                                    TimeStampedMIDIMessage.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="compiler\VirtualMIDIPlayer.html">
                                    VirtualMIDIPlayer.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="compiler\WavIODelegate.html">
                                    WavIODelegate.java
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\main\java\cas\cs4tb3\mellowd\midi</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="midi\GeneralMidiConstants.html">
                                    GeneralMidiConstants.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="midi\GeneralMidiInstrument.html">
                                    GeneralMidiInstrument.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="midi\GeneralMidiPercussion.html">
                                    GeneralMidiPercussion.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="midi\MidiNoteMessageSource.html">
                                    MidiNoteMessageSource.java
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\main\java\cas\cs4tb3\mellowd\parser</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="parser\Block.html">
                                    Block.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="parser\BlockOptions.html">
                                    BlockOptions.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="parser\IncorrectTypeException.html">
                                    IncorrectTypeException.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="parser\ParseException.html">
                                    ParseException.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="parser\SymbolTable.html">
                                    SymbolTable.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="parser\TrackManager.html">
                                    TrackManager.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="parser\UndefinedReferenceException.html">
                                    UndefinedReferenceException.java
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\main\java\cas\cs4tb3\mellowd\primitives</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="primitives\Chord.html">
                                    Chord.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="primitives\Melody.html">
                                    Melody.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="primitives\Phrase.html">
                                    Phrase.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="primitives\Rhythm.html">
                                    Rhythm.java
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\test\java\cas\cs4tb3\mellowd</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\test\java\cas\cs4tb3\mellowd\ChordResolutionTest.html">
                                    ChordResolutionTest.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\test\java\cas\cs4tb3\mellowd\CompilerTest.html">
                                    CompilerTest.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\test\java\cas\cs4tb3\mellowd\ErrorResponseTest.html">
                                    ErrorResponseTest.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\test\java\cas\cs4tb3\mellowd\ParserTest.html">
                                    ParserTest.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\test\java\cas\cs4tb3\mellowd\TestErrorListener.html">
                                    TestErrorListener.java
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\test\resources\compilertest</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\test\resources\compilertest\articulation.html">
                                    articulation.mlod
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\test\resources\compilertest\percussion.html">
                                    percussion.mlod
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\test\resources\compilertest\strangeChords.html">
                                    strangeChords.mlod
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\test\resources\compilertest\strangeMelodies.html">
                                    strangeMelodies.mlod
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\test\resources\compilertest\strangeRhythms.html">
                                    strangeRhythms.mlod
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\test\resources\compilertest\varDeclarations.html">
                                    varDeclarations.mlod
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\test\resources\errortest</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\test\resources\errortest\largeInput.html">
                                    largeInput.mlod
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\test\resources\errortest\largeInputShared.html">
                                    largeInputShared.mlod
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\test\resources\parsertest</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\test\resources\parsertest\chordNames.html">
                                    chordNames.mlod
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\test\resources\parsertest\simpleBlock.html">
                                    simpleBlock.mlod
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\test\resources\parsertest\varDeclaration.html">
                                    varDeclaration.mlod
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\test\resources\testdata</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\test\resources\testdata\CompilerTestData.html">
                                    CompilerTestData.json
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\test\resources\testdata\ParserTestData.html">
                                    ParserTestData.json
                                </a>
                            </li>
                        
                        </div>
                    
          </div>
        
            
            <!-- Moved TOC above header -->
            
          
          <h1 id="pitch">Pitch</h1>

          
            <div class='highlight'><pre>
<span class="hljs-keyword">package</span> cas.cs4tb3.mellowd;

<span class="hljs-keyword">import</span> cas.cs4tb3.mellowd.midi.MidiNoteMessageSource;

<span class="hljs-keyword">import</span> javax.sound.midi.InvalidMidiDataException;
<span class="hljs-keyword">import</span> javax.sound.midi.ShortMessage;
<span class="hljs-keyword">import</span> java.util.Collection;
<span class="hljs-keyword">import</span> java.util.Collections;
<span class="hljs-keyword">import</span> java.util.List;</pre></div>
          
        
      </div>

      
        
        <p>Pitch is a key building block in the Mellow D compiler. It specifies the value of the played
note. MIDI restricts the note value to 7 bits, hence we have 0-127 to work with. 0 corresponds
to the musical note c with each consecutive number adding a semi-tone to the note value.</p>

        
          <div class='highlight'><pre><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Pitch</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">MidiNoteMessageSource</span> </span>{</pre></div>
        
      
        
        <p>The <code>NOTE_NAMES</code> array maps a midi num in the lowest octave to a note name. Here
it is clear to see the mapping from number to note for a total of 12 semi-tones in
an octave.</p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String[] NOTE_NAMES = <span class="hljs-keyword">new</span> String[] {
            <span class="hljs-string">"c"</span>, <span class="hljs-string">"c#"</span>, <span class="hljs-string">"d"</span>, <span class="hljs-string">"d#"</span>, <span class="hljs-string">"e"</span>, <span class="hljs-string">"f"</span>, <span class="hljs-string">"f#"</span>, <span class="hljs-string">"g"</span>, <span class="hljs-string">"g#"</span>, <span class="hljs-string">"a"</span>, <span class="hljs-string">"a#"</span>, <span class="hljs-string">"b"</span>
    };</pre></div>
        
      
        
        <p>A pitch is just a MIDI number (a int) wrapped with a bunch of utility methods. We can
represent every possible MIDI pitch with 128 instances. Most songs would easily hit this number of
pitch instantiations so we can create them all at once and share them.</p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Pitch[] ALL_PITCHES = <span class="hljs-keyword">new</span> Pitch[<span class="hljs-number">128</span>];
    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">128</span>; i++) ALL_PITCHES[i] = <span class="hljs-keyword">new</span> Pitch(i);
    }</pre></div>
        
      
        
        <p>To get started a static reference by name to a whole tone pitch is retrieved. From here
the caller would chain calls to the various wrapper methods to obtain the desired pitch.</p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Pitch C = ALL_PITCHES[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Pitch D = ALL_PITCHES[<span class="hljs-number">2</span>];
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Pitch E = ALL_PITCHES[<span class="hljs-number">4</span>];
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Pitch F = ALL_PITCHES[<span class="hljs-number">5</span>];
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Pitch G = ALL_PITCHES[<span class="hljs-number">7</span>];
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Pitch A = ALL_PITCHES[<span class="hljs-number">9</span>];
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Pitch B = ALL_PITCHES[<span class="hljs-number">11</span>];</pre></div>
        
      
        
        <p>The <code>REST</code> is a special instance that will be check for reference equality to insert
silence rather than sound. It is described in a Mellow D source file with a <code>*</code>.</p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Pitch REST = <span class="hljs-keyword">new</span> Pitch(<span class="hljs-number">0</span>);</pre></div>
        
      
        
        <p>This is the equivalent of a constructor. It retrieves the correct pitch instance for the given
MIDI note value. If the given value is negative or exceeds 127 it is pulled into the range
on the end that it exceeded.</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Pitch <span class="hljs-title">getPitch</span><span class="hljs-params">(<span class="hljs-keyword">int</span> midiNum)</span> </span>{
        <span class="hljs-keyword">return</span> ALL_PITCHES[Math.max(<span class="hljs-number">0</span>, Math.min(midiNum, <span class="hljs-number">127</span>))];
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> midiNum;

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">Pitch</span><span class="hljs-params">(<span class="hljs-keyword">int</span> midiNum)</span> </span>{
        <span class="hljs-keyword">this</span>.midiNum = midiNum;
    }</pre></div>
        
      
        
        <p>Sharp, or <code>#</code> in a Mellow D source file, increases the note value by 1 semi-tone.</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">public</span> Pitch <span class="hljs-title">sharp</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> getPitch(midiNum + <span class="hljs-number">1</span>);
    }</pre></div>
        
      
        
        <p>Flat, or <code>$</code> in a Mellow D source file, decreases the note value by 1 semi-tone.</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">public</span> Pitch <span class="hljs-title">flat</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> getPitch(midiNum - <span class="hljs-number">1</span>);
    }</pre></div>
        
      
        
        <p>Each octave shift is described in a Mellow D source as <code>+</code> or <code>-</code> a <code>[0-9]+</code>.
As each octave contains 12 semi-tones, adding 12 to the MIDI note value increase the octave
by 1.</p>

        
      
        
        <p>The shift up and shift down methods shift the octave in the appropriate direction ignoring
the sign of the <code>amt</code>.</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">public</span> Pitch <span class="hljs-title">shiftOctaveUp</span><span class="hljs-params">(<span class="hljs-keyword">int</span> amt)</span> </span>{
        <span class="hljs-keyword">return</span> getPitch(midiNum + (<span class="hljs-number">12</span> * Math.abs(amt)));
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> Pitch <span class="hljs-title">shiftOctaveDown</span><span class="hljs-params">(<span class="hljs-keyword">int</span> amt)</span> </span>{
        <span class="hljs-keyword">return</span> getPitch(midiNum - (<span class="hljs-number">12</span> * Math.abs(amt)));
    }</pre></div>
        
      
        
        <p>The plain shift octave uses the sign of the <code>amt</code> to determine the direction for the shift.</p>

        
          <div class='highlight'><pre>    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Pitch <span class="hljs-title">shiftOctave</span><span class="hljs-params">(<span class="hljs-keyword">int</span> amt)</span> </span>{
        <span class="hljs-keyword">return</span> getPitch(midiNum + (<span class="hljs-number">12</span> * amt));
    }</pre></div>
        
      
        
        <p>Using java’s integer division logic we can divide by 12 (the semi-tones per octave) and
round down all at once to get the octave a note is in.</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getOctave</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> midiNum / <span class="hljs-number">12</span>;
    }</pre></div>
        
      
        
        <p>In order to get the note value we can take the remainder of the MIDI note number when divided
by 12 (<code>midiNum % 12</code>). This gives the note number in octave 0. The we can just preform an
octave shift up to the desired octave (<code>octave * 12</code>).</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">public</span> Pitch <span class="hljs-title">inOctave</span><span class="hljs-params">(<span class="hljs-keyword">int</span> octave)</span> </span>{
        <span class="hljs-keyword">return</span> getPitch((octave * <span class="hljs-number">12</span>) + (midiNum % <span class="hljs-number">12</span>));
    }</pre></div>
        
      
        
        <h2 id="intervals">Intervals</h2>
<p>There are various common intervals that the Mellow D compiler heavily makes use of in
constructing <a href="primitives/Chord.html">chords</a>.</p>

        
      
        
        <p><em>majorThird</em>: 4 semi-tones above the root</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">public</span> Pitch <span class="hljs-title">majorThird</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> getPitch(midiNum + <span class="hljs-number">4</span>);
    }</pre></div>
        
      
        
        <p><em>minorThird</em>: 3 semi-tones above the root</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">public</span> Pitch <span class="hljs-title">minorThird</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> getPitch(midiNum + <span class="hljs-number">3</span>);
    }</pre></div>
        
      
        
        <p><em>perfectFifth</em>: 7 semi-tones above the root</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">public</span> Pitch <span class="hljs-title">perfectFifth</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> getPitch(midiNum + <span class="hljs-number">7</span>);
    }</pre></div>
        
      
        
        <p><em>augmentedFifth</em>: 8 semi-tones above the root</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">public</span> Pitch <span class="hljs-title">augmentedFifth</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> getPitch(midiNum + <span class="hljs-number">8</span>);
    }</pre></div>
        
      
        
        <p><em>diminishedFifth</em>: 6 semi-tones above the root</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">public</span> Pitch <span class="hljs-title">diminishedFifth</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> getPitch(midiNum + <span class="hljs-number">6</span>);
    }</pre></div>
        
      
        
        <p><em>diminishedFifth</em>: 9 semi-tones above the root</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">public</span> Pitch <span class="hljs-title">diminishedSeventh</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> getPitch(midiNum + <span class="hljs-number">9</span>);
    }</pre></div>
        
      
        
        <p><em>minorSeventh</em>: 10 semi-tones above the root</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">public</span> Pitch <span class="hljs-title">minorSeventh</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> getPitch(midiNum + <span class="hljs-number">10</span>);
    }</pre></div>
        
      
        
        <p><em>majorSeventh</em>: 11 semi-tones above the root</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">public</span> Pitch <span class="hljs-title">majorSeventh</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> getPitch(midiNum + <span class="hljs-number">11</span>);
    }</pre></div>
        
      
        
        <p><code>getMidiNum</code> resolves the pitch to its MIDI note number</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getMidiNum</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> midiNum;
    }</pre></div>
        
      
        
        <p>Pitch’s <code>toString</code> implementation concatenates the MIDI note value with ‘:’, the
name of the note and the octave for a nice pitch description.</p>

        
          <div class='highlight'><pre>    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> midiNum + <span class="hljs-string">":"</span> + NOTE_NAMES[midiNum%<span class="hljs-number">12</span>] + Integer.toString(midiNum/<span class="hljs-number">12</span>);
    }</pre></div>
        
      
        
        <p>Implement the <a href="midi/MidiNoteMessageSource.html">MidiNoteMessageSource</a> methods. They just put a
new short message into a list for compatibility reasons. The only special case is the <code>REST</code> which
results in no messages being generated.</p>

        
          <div class='highlight'><pre>    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Collection&lt;ShortMessage&gt; <span class="hljs-title">noteOn</span><span class="hljs-params">(<span class="hljs-keyword">int</span> channel, <span class="hljs-keyword">int</span> velocity)</span> <span class="hljs-keyword">throws</span> InvalidMidiDataException </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == REST)
            <span class="hljs-keyword">return</span> Collections.emptyList();
        <span class="hljs-keyword">return</span> Collections.singletonList(<span class="hljs-keyword">new</span> ShortMessage(ShortMessage.NOTE_ON, channel, midiNum, velocity));
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;ShortMessage&gt; <span class="hljs-title">noteOff</span><span class="hljs-params">(<span class="hljs-keyword">int</span> channel, <span class="hljs-keyword">int</span> velocity)</span> <span class="hljs-keyword">throws</span> InvalidMidiDataException </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == REST)
            <span class="hljs-keyword">return</span> Collections.emptyList();
        <span class="hljs-keyword">return</span> Collections.singletonList(<span class="hljs-keyword">new</span> ShortMessage(ShortMessage.NOTE_OFF, channel, midiNum, velocity));
    }
}</pre></div>
        
      
      <div class="fleur">h</div>
    </div>
  </div>
</body>
</html>
