<!DOCTYPE html>

<html>
<head>
  <title>VirtualMIDIPlayer.java</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="public/stylesheets/normalize.css" />
  <link rel="stylesheet" media="all" href="..\..\..\..\..\..\..\docco.css" />
</head>
<body>
<a href="https://github.com/SpencerPark/MellowD"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/652c5b9acfaddf3a9c326fa6bde407b87f7be0f4/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6f72616e67655f6666373630302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"></a>
  <div class="container">
    <div class="page">

      <div class="header">
        
          <div class="toctop" onclick="">
            <a class="source" href="..\..\..\..\..\..\..\index.html">Home</a>
            <h3>Table of Contents</h3>
              
                    
                    <div class="toc" onclick="">
                        <h3>src\main\antlr</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\antlr\MellowDLexer.html">
                                    MellowDLexer.g4
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\antlr\MellowDParser.html">
                                    MellowDParser.g4
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\main\java\cas\cs4tb3\mellowd</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="..\ArticulatedSound.html">
                                    ArticulatedSound.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\Articulation.html">
                                    Articulation.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\Beat.html">
                                    Beat.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\Dynamic.html">
                                    Dynamic.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\Pitch.html">
                                    Pitch.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\PlayableSound.html">
                                    PlayableSound.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\TimingEnvironment.html">
                                    TimingEnvironment.java
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\main\java\cas\cs4tb3\mellowd\compiler</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="Compiler.html">
                                    Compiler.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="MIDIIODelegate.html">
                                    MIDIIODelegate.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="SequenceIODelegate.html">
                                    SequenceIODelegate.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="SequencePlayer.html">
                                    SequencePlayer.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="TimeStampedMIDIMessage.html">
                                    TimeStampedMIDIMessage.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="VirtualMIDIPlayer.html">
                                    VirtualMIDIPlayer.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="WavIODelegate.html">
                                    WavIODelegate.java
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\main\java\cas\cs4tb3\mellowd\midi</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="..\midi\GeneralMidiConstants.html">
                                    GeneralMidiConstants.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\midi\GeneralMidiInstrument.html">
                                    GeneralMidiInstrument.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\midi\GeneralMidiPercussion.html">
                                    GeneralMidiPercussion.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\midi\MidiNoteMessageSource.html">
                                    MidiNoteMessageSource.java
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\main\java\cas\cs4tb3\mellowd\parser</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="..\parser\Block.html">
                                    Block.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\parser\BlockOptions.html">
                                    BlockOptions.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\parser\IncorrectTypeException.html">
                                    IncorrectTypeException.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\parser\ParseException.html">
                                    ParseException.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\parser\SymbolTable.html">
                                    SymbolTable.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\parser\TrackManager.html">
                                    TrackManager.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\parser\UndefinedReferenceException.html">
                                    UndefinedReferenceException.java
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\main\java\cas\cs4tb3\mellowd\primitives</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="..\primitives\Chord.html">
                                    Chord.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\primitives\Melody.html">
                                    Melody.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\primitives\Phrase.html">
                                    Phrase.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\primitives\Rhythm.html">
                                    Rhythm.java
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\test\java\cas\cs4tb3\mellowd</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\java\cas\cs4tb3\mellowd\ChordResolutionTest.html">
                                    ChordResolutionTest.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\java\cas\cs4tb3\mellowd\CompilerTest.html">
                                    CompilerTest.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\java\cas\cs4tb3\mellowd\ErrorResponseTest.html">
                                    ErrorResponseTest.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\java\cas\cs4tb3\mellowd\ParserTest.html">
                                    ParserTest.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\java\cas\cs4tb3\mellowd\TestErrorListener.html">
                                    TestErrorListener.java
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\test\resources\compilertest</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\resources\compilertest\articulation.html">
                                    articulation.mlod
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\resources\compilertest\percussion.html">
                                    percussion.mlod
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\resources\compilertest\strangeChords.html">
                                    strangeChords.mlod
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\resources\compilertest\strangeMelodies.html">
                                    strangeMelodies.mlod
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\resources\compilertest\strangeRhythms.html">
                                    strangeRhythms.mlod
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\resources\compilertest\varDeclarations.html">
                                    varDeclarations.mlod
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\test\resources\errortest</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\resources\errortest\largeInput.html">
                                    largeInput.mlod
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\resources\errortest\largeInputShared.html">
                                    largeInputShared.mlod
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\test\resources\parsertest</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\resources\parsertest\chordNames.html">
                                    chordNames.mlod
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\resources\parsertest\simpleBlock.html">
                                    simpleBlock.mlod
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\resources\parsertest\varDeclaration.html">
                                    varDeclaration.mlod
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\test\resources\testdata</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\resources\testdata\CompilerTestData.html">
                                    CompilerTestData.json
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\resources\testdata\ParserTestData.html">
                                    ParserTestData.json
                                </a>
                            </li>
                        
                        </div>
                    
          </div>
        
            
            <!-- Moved TOC above header -->
            
          <h1>VirtualMIDIPlayer.java</h1>
        
      </div>

      
        
        
        
          <div class='highlight'><pre><span class="hljs-keyword">package</span> cas.cs4tb3.mellowd.compiler;

<span class="hljs-keyword">import</span> javax.sound.midi.*;
<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.Collection;</pre></div>
        
      
        
        <p>A <code>VirtualMIDIPlayer</code> force feeds a sequence to a midi receiver. This simulates play-though
of the entire sequence without the delay in between notes.</p>

        
          <div class='highlight'><pre><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">VirtualMIDIPlayer</span> </span>{</pre></div>
        
      
        
        <p>The number of microseconds in each minute (60,000,000). This constant aids
in calculating the microseconds per beat for a BPM conversion.</p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> MICROSECONDS_PER_MINUTE = <span class="hljs-number">60000000</span>;</pre></div>
        
      
        
        <p>The number of microseconds in each second (1,000,000).</p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">double</span> MICROSECONDS_PER_SECOND = <span class="hljs-number">1000000.0</span>;</pre></div>
        
      
        
        <p>The default tempo (120) describing the number of beats in a minute.</p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> DEFAULT_BPM = <span class="hljs-number">120</span>;</pre></div>
        
      
        
        <p>The default number of micro seconds (&mu;s) per beat. There are <code>DEFAULT_BPM</code> beats in a
minute and therefor the <code>DEFAULT_US_PER_BEAT</code> is <sup>MICROSECONDS_PER_MINUTE</sup>&frasl;<sub>DEFAULT_BPM</sub></p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> DEFAULT_US_PER_BEAT = MICROSECONDS_PER_MINUTE / DEFAULT_BPM;</pre></div>
        
      
        
        <p>The MIDI meta message identifier for a tempo message.</p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">byte</span> TEMPO_MIDI_SUBTYPE = <span class="hljs-number">0x51</span>;</pre></div>
        
      
        
        <p>A utility class for keeping some tracking information about the tracks in the sequence.
When iterating over the tacks we need to find the next message in the sequence but the tracks
all play concurrently. This class holds the current playback position (as the number of MIDI messages
already played) so that we can switch between tracks but remember where we were in the others.</p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TrackTracker</span> </span>{
        <span class="hljs-keyword">protected</span> Track midiTrack;
        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">int</span> position = <span class="hljs-number">0</span>;</pre></div>
        
      
        
        <p>Create a new track tracker wrapping the given track.</p>

        
          <div class='highlight'><pre>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">TrackTracker</span><span class="hljs-params">(Track midiTrack)</span> </span>{
            <span class="hljs-keyword">this</span>.midiTrack = midiTrack;
        }</pre></div>
        
      
        
        <p>Move the pointer forward one position. This is the equivalent of consuming
a message.</p>

        
          <div class='highlight'><pre>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">advancePointer</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">this</span>.position++;
        }</pre></div>
        
      
        
        <p>Obtain the next message in the sequence. Note that this does NOT advance the pointer.
That should be done manually if it is desired. This method will return null if
<code>hasNext()</code> returns false.</p>

        
          <div class='highlight'><pre>        <span class="hljs-function"><span class="hljs-keyword">public</span> MidiEvent <span class="hljs-title">getNext</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">if</span> (hasNext())
                <span class="hljs-keyword">return</span> midiTrack.get(position);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
        }</pre></div>
        
      
        
        <p>Check if there is another message still not consumed in this track.</p>

        
          <div class='highlight'><pre>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">hasNext</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">return</span> position &lt; midiTrack.size();
        }
    }

    <span class="hljs-keyword">private</span> Collection&lt;TimeStampedMIDIMessage&gt; stampedMIDIMessages;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> duration;</pre></div>
        
      
        
        <p>Create a new virtual player that is playing the given sequence.</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">VirtualMIDIPlayer</span><span class="hljs-params">(Sequence sequence)</span> </span>{
        <span class="hljs-keyword">if</span> (sequence.getDivisionType() != Sequence.PPQ)
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">"Sequence division type was not PPQ. Virtual playback only supports PPQ sequences"</span>);

        initStampedMIDIMessages(sequence);
    }</pre></div>
        
      
        
        <p>Set the sequence playing in this virtual midi player.</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setSequence</span><span class="hljs-params">(Sequence sequence)</span> </span>{
        <span class="hljs-keyword">if</span> (sequence.getDivisionType() != Sequence.PPQ)
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">"Sequence division type was not PPQ. Virtual playback only supports PPQ sequences"</span>);

        initStampedMIDIMessages(sequence);
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">initStampedMIDIMessages</span><span class="hljs-params">(Sequence sequence)</span> </span>{
        stampedMIDIMessages = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();</pre></div>
        
      
        
        <p>Wrap all of the tracks in the sequence in a tracker.</p>

        
          <div class='highlight'><pre>        TrackTracker[] tracks = <span class="hljs-keyword">new</span> TrackTracker[sequence.getTracks().length];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; tracks.length; i++) {
            tracks[i] = <span class="hljs-keyword">new</span> TrackTracker(sequence.getTracks()[i]);
        }</pre></div>
        
      
        
        <p>If no tempo is specified this is the tempo</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">int</span> usPerBeat = DEFAULT_US_PER_BEAT;</pre></div>
        
      
        
        <p>The tracks must use the <code>PPQ</code> division type and therefor the resolution is in
pulses per quarter note or <code>ticksPerBeat</code></p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">int</span> ticksPerBeat = sequence.getResolution();</pre></div>
        
      
        
        <p>Track the tick number of the last played message to calculate how much time has elapsed</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">long</span> lastTick = <span class="hljs-number">0</span>;</pre></div>
        
      
        
        <p>The current time is also updated with the lastTick. It tracks the imaginary time (in &mu;s)</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">long</span> currentTime = <span class="hljs-number">0</span>;</pre></div>
        
      
        
        <p>Crawl through the tracks grabbing the first occurring event (tick-wise)</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">while</span> (<span class="hljs-keyword">true</span>) {
            MidiEvent nextEvent = <span class="hljs-keyword">null</span>;
            TrackTracker selectedTracker = <span class="hljs-keyword">null</span>;
            <span class="hljs-keyword">for</span> (TrackTracker tracker : tracks) {
                <span class="hljs-keyword">if</span> (tracker.hasNext()) {</pre></div>
        
      
        
        <p>Pull the next event on this track</p>

        
          <div class='highlight'><pre>                    MidiEvent event = tracker.getNext();</pre></div>
        
      
        
        <p>If we haven’t picked an event yet or this event occurs before the selected one
then pick it as the working event</p>

        
          <div class='highlight'><pre>                    <span class="hljs-keyword">if</span> (nextEvent == <span class="hljs-keyword">null</span> || event.getTick() &lt; nextEvent.getTick()) {
                        nextEvent = event;
                        selectedTracker = tracker;
                    }
                }
            }</pre></div>
        
      
        
        <p>If no tracker is selected that means we have reached the end of the sequence
and we can break out of this loop.</p>

        
          <div class='highlight'><pre>            <span class="hljs-keyword">if</span> (selectedTracker == <span class="hljs-keyword">null</span>)
                <span class="hljs-keyword">break</span>;</pre></div>
        
      
        
        <p>We have pulled a message from this track so update our trakers pointer
to point to the next message</p>

        
          <div class='highlight'><pre>            selectedTracker.advancePointer();</pre></div>
        
      
        
        <p>Update the current time to properly track the new event</p>

        
          <div class='highlight'><pre>            <span class="hljs-keyword">long</span> tick = nextEvent.getTick();</pre></div>
        
      
        
        <p>The units for the following calculations look like the following:<br>
<sup>&mu;</sup>&fracsl;<sub>beat</sub> &middot; <sup>beat</sup>&fracsl;<sub>ticks</sub> &middot; ticks = &mu;
This gives us the number of microseconds that has passed since the last tick</p>

        
          <div class='highlight'><pre>            currentTime += ((tick - lastTick) * usPerBeat) / ticksPerBeat;</pre></div>
        
      
        
        <p>Update the <code>lastTick</code> to the current tick</p>

        
          <div class='highlight'><pre>            lastTick = tick;

            MidiMessage msg = nextEvent.getMessage();
            <span class="hljs-keyword">if</span> (msg <span class="hljs-keyword">instanceof</span> MetaMessage) {</pre></div>
        
      
        
        <p>This is updating synthesiser info and therefore doesn’t need to be played back in the
receiver. If the message is a tempo change then we need to update our micro seconds per beat.</p>

        
          <div class='highlight'><pre>                <span class="hljs-keyword">if</span> (((MetaMessage) msg).getType() == <span class="hljs-number">0x51</span>) {
                    <span class="hljs-keyword">byte</span>[] data = ((MetaMessage) msg).getData();</pre></div>
        
      
        
        <p>The data for this message is the number of micro seconds per beat written over 3 bytes
so we need to combine them again.</p>

        
          <div class='highlight'><pre>                    usPerBeat = ((data[<span class="hljs-number">0</span>] &amp; <span class="hljs-number">0xff</span>) &lt;&lt; <span class="hljs-number">16</span>) | ((data[<span class="hljs-number">1</span>] &amp; <span class="hljs-number">0xff</span>) &lt;&lt; <span class="hljs-number">8</span>) | (data[<span class="hljs-number">2</span>] &amp; <span class="hljs-number">0xff</span>);
                }
            } <span class="hljs-keyword">else</span> {</pre></div>
        
      
        
        <p>It should be stamped and remembered</p>

        
          <div class='highlight'><pre>                stampedMIDIMessages.add(<span class="hljs-keyword">new</span> TimeStampedMIDIMessage(currentTime, msg));
            }
        }</pre></div>
        
      
        
        <p>Convert the duration which is in microseconds, to seconds</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">this</span>.duration = currentTime / MICROSECONDS_PER_SECOND;
    }</pre></div>
        
      
        
        <p>Play the last set sequence fot the given receiver.</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">playTrackFor</span><span class="hljs-params">(Receiver receiver)</span> </span>{
        <span class="hljs-keyword">for</span> (TimeStampedMIDIMessage message : <span class="hljs-keyword">this</span>.stampedMIDIMessages) {
            message.feedTo(receiver);
        }
    }</pre></div>
        
      
        
        <p>Get the duration of the last set sequence in seconds.</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">getDuration</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.duration;
    }
}</pre></div>
        
      
      <div class="fleur">h</div>
    </div>
  </div>
</body>
</html>
