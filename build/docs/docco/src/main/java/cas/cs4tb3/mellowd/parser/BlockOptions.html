<!DOCTYPE html>

<html>
<head>
  <title>Block Options</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="public/stylesheets/normalize.css" />
  <link rel="stylesheet" media="all" href="..\..\..\..\..\..\..\docco.css" />
</head>
<body>
  <div class="container">
    <div class="page">

      <div class="header">
        
          <div class="toctop" onclick="">
            <a class="source" href="..\..\..\..\..\..\..\index.html">Home</a>
            <h3>Table of Contents</h3>
              
                    
                    <div class="toc" onclick="">
                        <h3>src\main\antlr</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\antlr\MellowDLexer.html">
                                    MellowDLexer.g4
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\antlr\MellowDParser.html">
                                    MellowDParser.g4
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\main\java\cas\cs4tb3\mellowd</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="..\ArticulatedSound.html">
                                    ArticulatedSound.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\Articulation.html">
                                    Articulation.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\Beat.html">
                                    Beat.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\Dynamic.html">
                                    Dynamic.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\Pitch.html">
                                    Pitch.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\PlayableSound.html">
                                    PlayableSound.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\TimingEnvironment.html">
                                    TimingEnvironment.java
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\main\java\cas\cs4tb3\mellowd\compiler</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="..\compiler\Compiler.html">
                                    Compiler.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\compiler\SequencePlayer.html">
                                    SequencePlayer.java
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\main\java\cas\cs4tb3\mellowd\midi</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="..\midi\GeneralMidiConstants.html">
                                    GeneralMidiConstants.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\midi\GeneralMidiInstrument.html">
                                    GeneralMidiInstrument.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\midi\GeneralMidiPercussion.html">
                                    GeneralMidiPercussion.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\midi\MidiNoteMessageSource.html">
                                    MidiNoteMessageSource.java
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\main\java\cas\cs4tb3\mellowd\parser</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="Block.html">
                                    Block.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="BlockOptions.html">
                                    BlockOptions.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="IncorrectTypeException.html">
                                    IncorrectTypeException.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="ParseException.html">
                                    ParseException.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="SymbolTable.html">
                                    SymbolTable.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="TrackManager.html">
                                    TrackManager.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="UndefinedReferenceException.html">
                                    UndefinedReferenceException.java
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\main\java\cas\cs4tb3\mellowd\primitives</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="..\primitives\Chord.html">
                                    Chord.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\primitives\Melody.html">
                                    Melody.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\primitives\Phrase.html">
                                    Phrase.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\primitives\Rhythm.html">
                                    Rhythm.java
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\test\java\cas\cs4tb3\mellowd</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\java\cas\cs4tb3\mellowd\ChordResolutionTest.html">
                                    ChordResolutionTest.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\java\cas\cs4tb3\mellowd\CompilerTest.html">
                                    CompilerTest.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\java\cas\cs4tb3\mellowd\ParserTest.html">
                                    ParserTest.java
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\java\cas\cs4tb3\mellowd\TestErrorListener.html">
                                    TestErrorListener.java
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\test\resources\compilertest</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\resources\compilertest\articulation.html">
                                    articulation.mlod
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\resources\compilertest\percussion.html">
                                    percussion.mlod
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\resources\compilertest\strangeChords.html">
                                    strangeChords.mlod
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\resources\compilertest\strangeMelodies.html">
                                    strangeMelodies.mlod
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\resources\compilertest\strangeRhythms.html">
                                    strangeRhythms.mlod
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\resources\compilertest\varDeclarations.html">
                                    varDeclarations.mlod
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\test\resources\parsertest</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\resources\parsertest\chordNames.html">
                                    chordNames.mlod
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\resources\parsertest\simpleBlock.html">
                                    simpleBlock.mlod
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\resources\parsertest\varDeclaration.html">
                                    varDeclaration.mlod
                                </a>
                            </li>
                        
                        </div>
                    
                    <div class="toc" onclick="">
                        <h3>src\test\resources\testdata</h3>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\resources\testdata\CompilerTestData.html">
                                    CompilerTestData.json
                                </a>
                            </li>
                        
                            <li class="tocelem">
                                <a class="source" href="..\..\..\..\..\..\test\resources\testdata\ParserTestData.html">
                                    ParserTestData.json
                                </a>
                            </li>
                        
                        </div>
                    
          </div>
        
            
            <!-- Moved TOC above header -->
            
          
          <h1 id="block-options">Block Options</h1>

          
            <div class='highlight'><pre><span class="hljs-keyword">package</span> cas.cs4tb3.mellowd.parser;

<span class="hljs-keyword">import</span> cas.cs4tb3.mellowd.midi.GeneralMidiInstrument;
<span class="hljs-keyword">import</span> org.antlr.v4.runtime.Token;</pre></div>
          
        
      </div>

      
        
        <p>Each block supports various options and this class keeps track of them all in the same place.
It is strictly a data class and does not perform any functions.</p>

        
          <div class='highlight'><pre><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BlockOptions</span> </span>{</pre></div>
        
      
        
        <p>The soundbank is the number describing the patch location in the synthesizer. It
most likely will not be used but is available for custom instrument additions.</p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> soundbank;</pre></div>
        
      
        
        <p>The instrument is the id of the instrument. It does not guarantee the desired instrument selection
because each synthesizer is free to change the instrument patches but there does exist a standard
instrument set that is wrapped by the <a href="../midi/GeneralMidiInstrument.html">GeneralMidiInstrument</a>
class.</p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> instrument;</pre></div>
        
      
        
        <p>Percussion blocks accept <a href="../midi/GeneralMidiPercussion.html">GeneralMidiPercussion</a> as identifiers
and need to go on their own channel so the programmer must mark the block as a percussion block. The
value of that flag is stored here.</p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">boolean</span> percussion;</pre></div>
        
      
        
        <p>The loop option specifies how many times to repeat the single block that the option is turned on for.
If the options are copied the loop value is reset to 0 so that it remains only in the declared block.
A loop value less than or equal to 0 implies no repetitions.</p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> loop;</pre></div>
        
      
        
        <p>The octave is used to resolve pitch or chord descriptions during compilation. It specifies the base
octave that all relative pitches are derived from.</p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> octave;</pre></div>
        
      
        
        <p>The selected channel is an optional parameter with the value -1 if the value is not specified. A
selected channel forces the track managers hand in selecting a channel. This is not usually used
as most midi details are hidden but it allows full control for the programmer if needed.</p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> selectedChannel = -<span class="hljs-number">1</span>;</pre></div>
        
      
        
        <p>The share channel is a work around for specifying a channel. We want the programmer to help the
track manager select a channel for the block but this option allows additional selection constraints
without exposing the midi channel id. Channels that use the same instrument may share a channel if
we run out. Otherwise the 2 will exist on separate channels.</p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">private</span> String shareChannel;</pre></div>
        
      
        
        <p>There are 3 constructors offered by this class. The first being a direct parameter to field assignment
allowing the caller to directly specify the default values.</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">BlockOptions</span><span class="hljs-params">(<span class="hljs-keyword">int</span> soundbank, <span class="hljs-keyword">int</span> instrument, <span class="hljs-keyword">boolean</span> percussion, <span class="hljs-keyword">int</span> loop, <span class="hljs-keyword">int</span> octave)</span> </span>{
        <span class="hljs-keyword">this</span>.soundbank = soundbank;
        <span class="hljs-keyword">this</span>.instrument = instrument;
        <span class="hljs-keyword">this</span>.percussion = percussion;
        <span class="hljs-keyword">this</span>.loop = loop;
        <span class="hljs-keyword">this</span>.octave = octave;
    }</pre></div>
        
      
        
        <p>The second constructor is a copy constructor that copies the data from the passed in constructor
to the new instance. As mentioned in the loop field description this copy reset the loop
field as it is fragment specific.</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">BlockOptions</span><span class="hljs-params">(BlockOptions options)</span> </span>{
        <span class="hljs-keyword">this</span>.instrument = options.instrument;
        <span class="hljs-keyword">this</span>.percussion = options.percussion;
        <span class="hljs-keyword">this</span>.loop = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.octave = options.octave;
        <span class="hljs-keyword">this</span>.soundbank = options.soundbank;
    }</pre></div>
        
      
        
        <p>The last constructor is a default constructor that sets base values for all of the fields.</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">BlockOptions</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">this</span>.instrument = GeneralMidiInstrument.ACOUSTIC_GRAND_PIANO.midiNum();
        <span class="hljs-keyword">this</span>.percussion = <span class="hljs-keyword">false</span>;
        <span class="hljs-keyword">this</span>.loop = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.soundbank = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.octave = <span class="hljs-number">4</span>;
    }</pre></div>
        
      
        
        <p>The following methods are a collection of getter and setters for manipulating the
various properties.</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setInstrument</span><span class="hljs-params">(Token name)</span> </span>{
        GeneralMidiInstrument instrument = GeneralMidiInstrument.lookup(name.getText());
        <span class="hljs-keyword">if</span> (instrument == <span class="hljs-keyword">null</span>)
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> UndefinedReferenceException(name, <span class="hljs-string">"Unknown instrument "</span>+name.getText());
        <span class="hljs-keyword">this</span>.instrument = instrument.midiNum();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setInstrument</span><span class="hljs-params">(<span class="hljs-keyword">int</span> instrument)</span> </span>{
        <span class="hljs-keyword">this</span>.instrument = instrument;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setSoundbank</span><span class="hljs-params">(<span class="hljs-keyword">int</span> soundbank)</span> </span>{
        <span class="hljs-keyword">this</span>.soundbank = soundbank;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getSoundbank</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> soundbank;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getInstrument</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> instrument;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isPercussion</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.percussion;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setPercussion</span><span class="hljs-params">(<span class="hljs-keyword">boolean</span> percussion)</span> </span>{
        <span class="hljs-keyword">this</span>.percussion = percussion;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getLoopCount</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.loop;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setLoopCount</span><span class="hljs-params">(<span class="hljs-keyword">int</span> loopCount)</span> </span>{
        <span class="hljs-keyword">this</span>.loop = loopCount;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getOctave</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> octave;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setOctave</span><span class="hljs-params">(<span class="hljs-keyword">int</span> octave)</span> </span>{
        <span class="hljs-keyword">this</span>.octave = octave;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setChannel</span><span class="hljs-params">(<span class="hljs-keyword">int</span> channel)</span> </span>{
        <span class="hljs-keyword">this</span>.selectedChannel = channel;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isChannelSelected</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.selectedChannel != -<span class="hljs-number">1</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getSelectedChannel</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.selectedChannel;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setSelectedChannel</span><span class="hljs-params">(<span class="hljs-keyword">int</span> selectedChannel)</span> </span>{
        <span class="hljs-keyword">this</span>.selectedChannel = selectedChannel;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getShareChannel</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> shareChannel;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setShareChannel</span><span class="hljs-params">(String shareChannel)</span> </span>{
        <span class="hljs-keyword">this</span>.shareChannel = shareChannel;
    }
}</pre></div>
        
      
      <div class="fleur">h</div>
    </div>
  </div>
</body>
</html>
